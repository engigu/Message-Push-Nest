# Message Nest ğŸ•Šï¸

Message Nest æ˜¯ä¸€ä¸ªçµæ´»è€Œå¼ºå¤§çš„æ¶ˆæ¯æ¨é€æ•´åˆå¹³å°ï¼Œæ—¨åœ¨ç®€åŒ–å¹¶è‡ªå®šä¹‰å¤šç§æ¶ˆæ¯é€šçŸ¥æ–¹å¼ã€‚

é¡¹ç›®åå«ä¿¡æ¯å·¢ï¼Œæ„æ€æ˜¯ä¸€ä¸ªæ‹¥æœ‰å„ç§æ¸ é“ä¿¡æ¯æ–¹å¼çš„é›†åˆç«™ç‚¹ã€‚

å¦‚æœä½ æœ‰å¾ˆå¤šæ¶ˆæ¯æ¨é€æ–¹å¼ï¼Œæ¯æ¬¡éƒ½éœ€è¦è°ƒç”¨å„ç§æ¥å£å»å‘é€æ¶ˆæ¯åˆ°å„ä¸ªæ¸ é“ï¼Œæˆ–è€…ä¸åŒçš„é¡¹ç›®ä½ éƒ½éœ€è¦å¤åˆ¶åŒæ ·çš„å‘æ¶ˆæ¯ä»£ç ï¼Œè¿™ä¸ªé¡¹ç›®å¯ä»¥å¸®ä½ ç®¡ç†å„ç§æ¶ˆæ¯æ–¹å¼ï¼Œå¹¶æä¾›ç»Ÿä¸€çš„å‘é€apiæ¥å…¥ã€‚ä½ å¯ä»¥è‡ªç”±ç»„åˆå„ç§æ¶ˆæ¯æ¸ é“ï¼Œä¸€ä¸ªapiæ¨é€åˆ°å„ç§æ¸ é“ï¼Œå¸®ä½ çœå»æ¥å…¥çš„ç¹çæ­¥éª¤ã€‚

æ¼”ç¤ºç«™ç‚¹(æ¼”ç¤ºç«™ç‚¹çš„æœåŠ¡å™¨æ¯”è¾ƒçƒ‚ï¼Œè§è°…) [demo](https://message-nest-demo-site.qwapi.eu.org/)

## ç‰¹è‰² âœ¨

- ğŸ”„ **æ•´åˆæ€§ï¼š** æä¾›äº†å¤šç§æ¶ˆæ¯æ¨é€æ–¹å¼ï¼ŒåŒ…æ‹¬é‚®ä»¶ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ç­‰ï¼Œæ–¹ä¾¿ä½ é›†ä¸­ç®¡ç†å’Œå®šåˆ¶é€šçŸ¥ã€‚
- ğŸ¨ **è‡ªå®šä¹‰æ€§ï¼š** å¯ä»¥æ ¹æ®éœ€æ±‚å®šåˆ¶æ¶ˆæ¯æ¨é€ç­–ç•¥ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„ä¸ªæ€§åŒ–éœ€æ±‚ã€‚
- ğŸ›  **å¼€æ”¾æ€§ï¼š** æ˜“äºæ‰©å±•å’Œé›†æˆæ–°çš„æ¶ˆæ¯é€šçŸ¥æœåŠ¡ï¼Œä»¥é€‚åº”æœªæ¥çš„å˜åŒ–ã€‚

## è¿›åº¦ ğŸ”¨

é¡¹ç›®è¿˜åœ¨ä¸æ–­æ›´æ–°ä¸­ï¼Œæ¬¢è¿å¤§å®¶æå‡ºå„ç§å»ºè®®ã€‚

å…³äºæ—¥å¿—ï¼Œè€ƒè™‘åˆ°ç›®å‰å¤šæ•°æœåŠ¡ä»¥æ”¶é›†æ§åˆ¶å°è¾“å‡ºä¸ºä¸»ï¼Œæš‚æ—¶ä¸æ”¯æŒå†™å‡ºæ—¥å¿—æ–‡ä»¶ã€‚

## åŠŸèƒ½æ›´æ–°æ—¥å¿—

- **2024.04.29**
    - æ”¯æŒ SQLite éƒ¨ç½²
    - æ”¯æŒMySQL 5.x  8.x
- **2024.04.11**
    - æ”¯æŒè‡ªå®šä¹‰çš„å®šæ—¶æ¶ˆæ¯å‘é€
- **2024.03.05**
    - æ”¯æŒå¾®ä¿¡æµ‹è¯•å…¬ä¼—å·æ¨¡æ¿æ¶ˆæ¯å‘é€
- **2024.01.28**
    - æ”¯æŒ Docker éƒ¨ç½²ï¼Œä»ç¯å¢ƒå˜é‡å¯åŠ¨æœåŠ¡
- **2024.01.24**
    - æ”¯æŒæ•°æ®ç»Ÿè®¡å±•ç¤º
- **2024.01.20**
    - æ·»åŠ æ—¥å¿—æŸ¥çœ‹è‡ªåŠ¨åˆ·æ–°
- **2024.01.07**
    - æ”¯æŒç«™ç‚¹ä¿¡æ¯è‡ªå®šä¹‰
- **2024.01.03**
    - æ”¯æŒä¼ä¸šå¾®ä¿¡
    - å•åº”ç”¨æ‰“åŒ…ï¼Œç›´æ¥è¿è¡Œï¼Œæ— éœ€éƒ¨ç½²å‰ç«¯é¡µé¢
    - æ”¯æŒé‚®ä»¶å‘é€
    - ç”¨æˆ·å¯†ç è®¾ç½®
    - æ”¯æŒç”¨æˆ·å®šæ—¶ä»»åŠ¡æ¸…ç†ï¼Œæ›´æ–°å®šæ—¶æ—¶é—´
    - æŸ¥çœ‹å®šæ—¶æ¸…ç†æ—¥å¿—
    - å•åº”ç”¨çš„ HTML æµè§ˆå™¨è‡ªåŠ¨ç¼“å­˜
    - Gin çš„æ—¥å¿—ä½¿ç”¨ Logrus
    - æ”¯æŒå¼‚æ­¥å‘é€
    - æ”¯æŒé‚®ä»¶å‘é€
    - æ”¯æŒé’‰é’‰
    - æ”¯æŒè‡ªå®šä¹‰çš„ Webhook æ¶ˆæ¯å‘é€
    - ä¼ä¸šå¾®ä¿¡æ”¯æŒ
  
## é¡¹ç›®æ¥ç”± ğŸ’¡

è‡ªå·±å¸¸å¸¸å†™ä¸€äº›è„šæœ¬éœ€è¦æ¶ˆæ¯æ¨é€ï¼Œç»å¸¸éœ€è¦æ¥å…¥ä¸åŒçš„æ¶ˆæ¯å‘é€ï¼Œå¾ˆä¸æ–¹ä¾¿ï¼Œäºæ˜¯å°±æœ‰äº†è¿™ä¸ªé¡¹ç›®ã€‚

## æ•ˆæœå›¾ ğŸ“º

![CPT2501011259-1496x739](https://github.com/user-attachments/assets/739cee2f-19cd-459a-a744-1999aeecbcd7)

## ä½¿ç”¨æ–¹æ³• ğŸš€

<details>
  <summary>1. ç›´æ¥è¿è¡Œæœ€æ–°çš„releaseæ‰“åŒ…çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆæ¨èï¼Œä¸ç”¨éƒ¨ç½²å‰ç«¯é¡µé¢ğŸ€ğŸ€ï¼‰</summary>

1. ä¸‹è½½æœ€æ–°çš„ç³»ç»Ÿç‰ˆæœ¬å¯¹åº”çš„releaseï¼Œ è§£å‹
2. æ–°å»ºä¸€ä¸ªæ•°æ®åº“
3. é‡å‘½åconf/app.example.iniä¸ºconf/app.ini
4. ä¿®æ”¹app.iniå¯¹åº”çš„é…ç½®
5. å°†é…ç½®ä¸­`EmbedHtml = disable`, è¿›è¡Œæ³¨é‡Šï¼Œä»¥å•åº”ç”¨æ–¹å¼è¿è¡Œï¼Œå®Œæ•´é…ç½®å‚è€ƒå¦‚ä¸‹ï¼š

```ini
[app]
JwtSecret = message-nest
LogLevel = INFO

[server]
RunMode = release
HttpPort = 8000
ReadTimeout = 60
WriteTimeout = 60
; æ³¨é‡ŠEmbedHtmlï¼Œå¯ç”¨å•åº”ç”¨æ¨¡å¼
; EmbedHtml = disable

[database]
; å…³é—­SQLæ‰“å°
; SqlDebug = enable

; Type = sqlite
Type = mysql
User = root
Password = Aa123456
Host = vm.server
Port = 3308
Name = yourDbName
TablePrefix = message_

```

6. å¯åŠ¨é¡¹ç›®ä¼šè‡ªåŠ¨åˆ›å»ºè¡¨å’Œè´¦å·

```shell
# INFOæ—¥å¿—çº§åˆ«å¯åŠ¨å›å‡ºç°å¦‚ä¸‹æ—¥å¿—

[2024-01-13 13:40:09.075]  INFO [migrate.go:70 Setup] [Init Data]: Migrate table: message_auth
[2024-01-13 13:40:11.778]  INFO [migrate.go:70 Setup] [Init Data]: Migrate table: message_send_tasks
[2024-01-13 13:40:16.518]  INFO [migrate.go:70 Setup] [Init Data]: Migrate table: message_send_ways
[2024-01-13 13:40:23.300]  INFO [migrate.go:70 Setup] [Init Data]: Migrate table: message_send_tasks_logs
[2024-01-13 13:40:28.715]  INFO [migrate.go:70 Setup] [Init Data]: Migrate table: message_send_tasks_ins
[2024-01-13 13:40:39.538]  INFO [migrate.go:70 Setup] [Init Data]: Migrate table: message_settings
[2024-01-13 13:40:46.299]  INFO [migrate.go:74 Setup] [Init Data]: Init Account data...
[2024-01-13 13:40:46.751]  INFO [migrate.go:77 Setup] [Init Data]: All table data init done.

```

7. å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®8000ç«¯å£ï¼Œåˆå§‹è´¦å·ä¸ºadminï¼Œå¯†ç ä¸º123456

</details>


<details>
  <summary>2. å‰åç«¯åˆ†ç¦»éƒ¨ç½²ï¼ˆå¾…æ›´æ–°ï¼‰</summary>
</details>


[//]: # (1. å‰ç«¯é¡¹ç›®æ„å»º)

[//]: # (```shell)

[//]: # (cd web && npm i && npm run build)

[//]: # (```)

[//]: # (2. é…ç½®é…ç½®æ–‡ä»¶ï¼Œå‚è€ƒä¸Šé¢ï¼Œéœ€è¦æ³¨æ„å°†é…ç½®ä¸­`EmbedHtml = disable`å–æ¶ˆæ³¨é‡Š)

[//]: # (3. å¯åŠ¨goæœåŠ¡)

[//]: # (```shell)

[//]: # (go mod tidy)

[//]: # (CGO_ENABLED=0 go build -o Message-Nest)

[//]: # (./Message-Nest)

[//]: # (```)

[//]: # (4. é…ç½®Nginxï¼Œå°†é™æ€æ–‡ä»¶)

[//]: # (5. é…ç½®Nginxï¼Œå°†åç«¯æ¥å£è½¬å‘)

<details>
  <summary> 3. å¼€å‘è°ƒè¯•è¿è¡Œ</summary>

1. é‡å‘½åconf/app.example.iniä¸ºconf/app.iniï¼Œ å…³é”®é…ç½®å¦‚ä¸‹

```ini
[app]
JwtSecret = message-nest
LogLevel = INFO

[server]
; RunModeåŠ¡å¿…è®¾ç½®æˆdebugï¼Œä¼šè‡ªåŠ¨æ·»åŠ è·¨åŸŸ
RunMode = debug
HttpPort = 8000
ReadTimeout = 60
WriteTimeout = 60
; å–æ¶ˆEmbedHtmlçš„æ³¨é‡Šï¼ˆå¯ç”¨å‰åç«¯åˆ†ç¦»ï¼‰ï¼Œç„¶ååˆ°webç›®å½•ä¸‹é¢ï¼Œnpm run devå¯åŠ¨å‰ç«¯é¡µé¢
EmbedHtml = disable

[database]
; å¼€å¯SQLæ‰“å°
SqlDebug = enable

; Type = sqlite
Type = mysql
User = root
Password = Aa123456
Host = vm.server
Port = 3308
Name = yourDbName
TablePrefix = message_

```

2. è¿è¡Œmain.goï¼ŒæœåŠ¡å¯åŠ¨åä¼šè¿è¡Œåœ¨8000ç«¯å£

```shell
go mod tidy
go run main.go
```

3. å¯åŠ¨å‰ç«¯é¡µé¢ï¼Œé¡µé¢å¯åŠ¨åä¼šæç¤ºè®¿é—®urlï¼Œä¸€èˆ¬æ˜¯`http://127.0.0.1:5173`

```shell
cd web
npm i
npm run dev
```

4. è®¿é—®`http://127.0.0.1:5173`ï¼Œè¿›è¡Œè°ƒè¯•å¼€å‘ï¼Œæ¥å£ä¼šè‡ªåŠ¨è½¬å‘åˆ°goæœåŠ¡`http://localhost:8000`

</details>

<details>
  <summary>4. docker/docker-composeéƒ¨ç½²ï¼ˆæ¨èæŒ‡æ•°ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ï¼‰</summary>

<details>
  <summary>dockeræŒ‚è½½app.iniéƒ¨ç½²</summary>

1. æ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå‡†å¤‡ä¸€ä¸ªconfæ–‡ä»¶å¤¹
2. æ–°å¢conf/app.ini
3. ä¿®æ”¹app.iniå¯¹åº”çš„é…ç½®
4. å°†é…ç½®ä¸­`EmbedHtml = disable`, è¿›è¡Œæ³¨é‡Šï¼Œä»¥å•åº”ç”¨æ–¹å¼è¿è¡Œï¼Œå®Œæ•´é…ç½®å‚è€ƒå¦‚ä¸‹ï¼š

```ini
[app]
JwtSecret = message-nest
LogLevel = INFO

[server]
RunMode = release
; dockeræ¨¡å¼ä¸‹ç«¯å£é…ç½®æ–‡ä»¶ä¸­åªèƒ½ä¸º8000
HttpPort = 8000
ReadTimeout = 60
WriteTimeout = 60
; æ³¨é‡ŠEmbedHtmlï¼Œå¯ç”¨å•åº”ç”¨æ¨¡å¼
; EmbedHtml = disable

[database]
; å…³é—­SQLæ‰“å°
; SqlDebug = enable

; Type = sqlite
Type = mysql
User = root
Password = Aa123456
Host = vm.server
Port = 3308
Name = yourDbName
TablePrefix = message_

```

6. ä½¿ç”¨å‘½ä»¤å¯åŠ¨ï¼Œç«¯å£ä½¿ç”¨`-p`è‡ªå®šä¹‰

```shell
docker pull engigu/message-nest:latest
# æµ‹è¯•è¿è¡Œ
docker run --rm -ti \
  -p 8000:8000 \
  -v /your/path/conf:/app/conf \
  engigu/message-nest:latest 
  
# æ­£å¼è¿è¡Œ
docker run -d \
  -p 8000:8000 \
  -v /your/path/conf:/app/conf \
  engigu/message-nest:latest 
```

7. å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®8000ç«¯å£ï¼Œåˆå§‹è´¦å·ä¸ºadminï¼Œå¯†ç ä¸º123456

</details>

<details>
  <summary>docker-composeæŒ‚è½½app.iniéƒ¨ç½²</summary>

1. å‡†å¤‡app.iniï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸Šdockeréƒ¨ç½²
2. å‡†å¤‡docker-compose.ymlï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yml
version: "3.7"
services:

  message-nest:
    image: engigu/message-nest:latest
    container_name: message-nest
    restart: always
    volumes:
      - ./conf:/app/conf
    ports:
      - "8000:8000"
```

3. æ–‡ä»¶ç›®å½•ç»“æ„

```shell
.
â”œâ”€â”€ conf
â”‚   â””â”€â”€ app.ini
â”œâ”€â”€ docker-compose.yml

```

4. å¯åŠ¨é¡¹ç›®

```shell
# æµ‹è¯•è¿è¡Œ
docker-compose up
# æ­£å¼è¿è¡Œ
docker-compose up -d
```

</details>

<details>
  <summary>docker/docker-composeç¯å¢ƒå˜é‡éƒ¨ç½²ï¼ˆæ¨èæŒ‡æ•°ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ï¼‰</summary>

ç¯å¢ƒå˜é‡ä»‹ç»

| å˜é‡                 | è¯´æ˜                                                 | 
|--------------------|----------------------------------------------------|
| JWT_SECRET         | jwtç§˜é’¥ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸ºmessage-nest                           |
| LOG_LEVEL          | æ—¥å¿—ç­‰çº§ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸ºINFOï¼ŒDEBUG/INFO/ERROR                   |
| RUN_MODE           | è¿è¡Œæ¨¡å¼ï¼Œå¯é€‰ï¼Œé»˜è®¤releaseï¼Œä¸ºdebugå°†è‡ªåŠ¨æ·»åŠ è·¨åŸŸ                    |
|                    |                                                    |
| DB_TYPE            | æ•°æ®åº“ç±»å‹ï¼Œsqlite/mysqlã€‚é»˜è®¤ä¸ºsqlite,å­˜å‚¨è·¯å¾„ä¸ºconf/database.db |
|                    |                                                    |
| MYSQL_HOST         | mysql-hostï¼ŒDB_TYPE=mysqlå¿…å¡«                         |
| MYSQL_PORT         | mysqlç«¯å£ï¼ŒDB_TYPE=mysqlå¿…å¡«                            |
| MYSQL_USER         | mysqlç”¨æˆ·åï¼ŒDB_TYPE=mysqlå¿…å¡«                           |
| MYSQL_PASSWORD     | mysqlæ•°æ®åº“å¯†ç ï¼ŒDB_TYPE=mysqlå¿…å¡«                         |
| MYSQL_DB           | mysqlæ•°æ®åº“åå­—ï¼ŒDB_TYPE=mysqlå¿…å¡«                         |
| MYSQL_TABLE_PREFIX | mysqlæ•°æ®è¡¨å‰ç¼€ï¼ŒDB_TYPE=mysqlå¿…å¡«                         |
|                    |                                                    |
| SQL_DEBUG          | æ˜¯å¦æ‰“å°SQLï¼Œå¯é€‰ï¼Œé»˜è®¤å…³ï¼Œè®¾ç½®enableä¸ºå¼€å¯                         |

dockerè¿è¡Œ

```shell

# æ­£å¼è¿è¡Œï¼ˆmysqlï¼‰
docker run -d  \
  -p 8000:8000 \
  -e MYSQL_HOST=192.168.64.133  \
  -e MYSQL_PORT=3308 \
  -e MYSQL_USER=root \
  -e MYSQL_PASSWORD=Aa123456 \
  -e MYSQL_DB=test_11 \
  -e MYSQL_TABLE_PREFIX=message_ \
  --name message-nest  \
  engigu/message-nest:latest 

# æ­£å¼è¿è¡Œï¼ˆsqliteï¼‰
docker run -d  \
  -p 8000:8000 \
  -v you/path/database.db=conf/database.db  \
  --name message-nest  \
  engigu/message-nest:latest 
```

docker-composeè¿è¡Œ(mysql)

```yml
version: "3.7"
services:

  message-nest:
    image: engigu/message-nest:latest
    container_name: message-nest
    restart: always
    ports:
      - "8000:8000"
    environment:
      - MYSQL_HOST=192.168.64.133
      - MYSQL_PORT=3308
      - MYSQL_USER=root
      - MYSQL_PASSWORD=Aa123456
      - MYSQL_DB=test_11
      - MYSQL_TABLE_PREFIX=message_
```

docker-composeè¿è¡Œ(sqlite)

```yml
version: "3.7"
services:

  message-nest:
    image: engigu/message-nest:latest
    container_name: message-nest
    restart: always
    ports:
      - "8000:8000"
    volumes:
      - you/path/database.db:conf/database.db
```

```shell
# æ­£å¼è¿è¡Œ
docker-compose -up -d
```

</details>

</details>

#### å…³äºEmbedHtmlé…ç½®çš„è¯´æ˜

> è¿™ä¸ªé…ç½®å¯ä»¥ç†è§£ä¸ºå•åº”ç”¨æ¨¡å¼ï¼ˆæˆ–è€…å‰åç«¯åˆ†ç¦»ï¼‰çš„å¼€å…³
>  1. æ‰“å¼€è¿™ä¸ªé…ç½®ï¼Œè¡¨ç¤ºå‰åç«¯åˆ†ç¦»ï¼Œè¡¨ç¤ºgoæœåŠ¡å¯åŠ¨çš„æ—¶å€™åªä¼šæœ‰apiæœåŠ¡ï¼Œéœ€è¦åˆ°webç›®å½•ä¸‹ï¼Œnpm run
      devå¯åŠ¨å‰ç«¯é¡¹ç›®ã€‚ç„¶åè®¿é—®å‰ç«¯é¡¹ç›®æç¤ºçš„ç«¯å£æœåŠ¡ï¼Œä¸€èˆ¬æ˜¯127.0.0.1:5173ã€‚
      æˆ–è€…ä½¿ç”¨npm run buildï¼Œç”¨Nginxéƒ¨ç½²å‰ç«¯ã€‚
>
>  2. æ³¨é‡Šè¿™ä¸ªé…ç½®ï¼Œè¡¨ç¤ºå•åº”ç”¨ï¼Œå¯åŠ¨goæœåŠ¡ï¼Œä¼šæŠŠweb/distç›®å½•ä¸‹æ–‡ä»¶ä½œä¸ºå‰ç«¯é™æ€èµ„æºã€‚
     å¦‚æœç›®å½•ä¸‹æ²¡æœ‰é™æ€èµ„æºæ–‡ä»¶ï¼Œéœ€è¦åˆ°webç›®å½•ä¸‹ï¼Œnpm run buildæ„å»ºç”Ÿæˆã€‚
>
> ä¸¤ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œç»¼åˆè€ƒè™‘ä¸‹æ¥ï¼Œæ¨èç›´æ¥ä½¿ç”¨releaseçš„æ‰“åŒ…æ‰§è¡Œæ–‡ä»¶ï¼ˆæˆ–è€…dockerç¯å¢ƒå˜é‡è¿›è¡Œéƒ¨ç½²ï¼‰ï¼Œå…¶ä¸­å·²ç»å†…ç½®äº†é¡µé¢é™æ€èµ„æºï¼Œåªç”¨è¿è¡Œä¸€ä¸ªæœåŠ¡ã€‚

## å®Œæ•´é…ç½®è¯´æ˜ âš™ï¸

<details>
  <summary>ç‚¹å‡»å±•å¼€</summary>

```ini
[app]
JwtSecret = message-nest
; æš‚æ—¶æ— ç”¨
RuntimeRootPath = runtime/
LogLevel = INFO

[server]
; debug or release
; debugæ¨¡å¼ä¸‹ä¼šè‡ªåŠ¨æ·»åŠ è·¨åŸŸheaders
RunMode = release
HttpPort = 8000
ReadTimeout = 60
WriteTimeout = 60
; use embed html static file
; æ˜¯å¦ä½¿ç”¨embedæ‰“åŒ…çš„é™æ€èµ„æº
; å¦‚æœè¿è¡Œreleaseæ‰“åŒ…åçš„åº”ç”¨ï¼Œè¯·æ³¨é‡Šè¿™ä¸ªè®¾ç½®ã€‚
; å¦‚æœå–æ¶ˆè¿™ä¸ªæ³¨é‡Šï¼Œåªä¼šå•ç‹¬è¿è¡ŒapiæœåŠ¡ï¼Œå‰ç«¯é¡µé¢éœ€è¦åˆ°webç›®å½•æ‰‹åŠ¨npm run dev, è¿è¡Œå‰ç«¯æœåŠ¡
; EmbedHtml = disable   

[database]
; é…ç½®ä½¿ç”¨sqlite
;Type = sqlite

; é…ç½®ä½¿ç”¨mysql
Type = mysql
User = root
Password = password
Host = 123.1.1.1
Name = db_name
Port = 3306

; å…¶ä»–é…ç½®
; è¡¨å‰ç¼€
TablePrefix = message_
; æ˜¯å¦æ‰“å¼€sqlæ‰“å°
; SqlDebug = enable

```

</details>

## å®¢æˆ·ç«¯è°ƒç”¨ç¤ºä¾‹ ğŸ’»ï¸

<details>
  <summary>CURL</summary>

```shell
curl -X POST --location 'http://127.0.0.1:5173/api/v1/message/send' \
        --header 'Content-Type: application/json' \
        --data '{
    "task_id": "T-JiXpO8EO7u",
    "title": "message title",
    "text": "Hello World!"
}'
```
</details>

<details>
  <summary>Python</summary>

```python
import requests

headers = {
    'Content-Type': 'application/json',
}
json_data = {
    "task_id": "T-JiXpO8EO7u",
    "title": "message title",
    "text": "Hello World!"
}
response = requests.post('http://127.0.0.1:5173/api/v1/message/send', headers=headers, json=json_data)

print("response:", response.json())

```
</details>

<details>
  <summary>Go</summary>

```golang
package main

import (
	"fmt"
	"io"
	"log"
	"net/http"
	"strings"
)

func main() {
	client := &http.Client{}
	var data = strings.NewReader(`{
    "task_id": "T-JiXpO8EO7u",
    "title": "message title",
    "text": "Hello World!"
}`)
	req, err := http.NewRequest("POST", "http://127.0.0.1:5173/api/v1/message/send", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("Content-Type", "application/json")
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()
	bodyText, err := io.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s\n", bodyText)
}

```
</details>

<details>
  <summary>Java</summary>

```java
import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpRequest.BodyPublishers;
import java.net.http.HttpResponse;

HttpClient client = HttpClient.newBuilder()
    .followRedirects(HttpClient.Redirect.NORMAL)
    .build();

HttpRequest request = HttpRequest.newBuilder()
    .uri(URI.create("http://127.0.0.1:5173/api/v1/message/send"))
    .POST(BodyPublishers.ofString("{\n    \"task_id\": \"T-JiXpO8EO7u\",\n    \"title\": \"message title\",\n    \"text\": \"Hello World!\"\n}"))
    .setHeader("Content-Type", "application/json")
    .build();

HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());

```
</details>

<details>
  <summary>Node</summary>

```JavaScript
var request = require('request');

var headers = {
    'Content-Type': 'application/json'
};

var dataString = "{\n    \"task_id\": \"T-JiXpO8EO7u\",\n    \"title\": \"message title\",\n    \"text\": \"Hello World!\"\n}";

var options = {
    url: 'http://127.0.0.1:5173/api/v1/message/send',
    method: 'POST',
    headers: headers,
    body: dataString
};

function callback(error, response, body) {
    if (!error && response.statusCode == 200) {
        console.log(body);
    }
}

request(options, callback);
```
</details>

<details>
  <summary>PHP</summary>

```php
<?php
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, 'http://127.0.0.1:5173/api/v1/message/send');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'POST');
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
]);
curl_setopt($ch, CURLOPT_POSTFIELDS, "{\n    \"task_id\": \"T-JiXpO8EO7u\",\n    \"title\": \"message title\",\n    \"text\": \"Hello World!\"\n}");
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);

$response = curl_exec($ch);

curl_close($ch);
        
```
</details>


## é¡µé¢æ“ä½œæŒ‡å¼• ğŸï¸

å…³äºæ¶ˆæ¯çš„æ·»åŠ ï¼Œå‘é€çš„æ•´ä¸ªæ­¥éª¤ï¼Œæ˜¯ä»¥é¡¶éƒ¨èœå•æ ä»å³å‘å·¦è¿›è¡Œæ“ä½œã€‚

<details>
  <summary>1. æ–°å¢å‘ä¿¡æ¸ é“ï¼ˆæ·»åŠ æ¶ˆæ¯çš„å…·ä½“æ¸ é“ï¼‰</summary>

![image](screenshots/1-add-message-ways.png)

å‚è€ƒå„ä¸ªæ¸ é“tabçš„è¯´æ˜è¿›è¡Œè®¾ç½®ä¿å­˜

æ³¨æ„ç°åœ¨çš„è‡ªå®šä¹‰webhookå½¢å¼ï¼Œåªæ”¯æŒ`POST`è¯·æ±‚ï¼Œé‡‡ç”¨çš„æ˜¯æ›¿æ¢é…ç½®çš„æ¶ˆæ¯ä½“ä¸­çš„å ä½ç¬¦`TEXT`ï¼Œè¿›è¡Œå‘é€æ¶ˆæ¯

</details>

<details>
  <summary>2. æ–°å¢å‘ä¿¡ä»»åŠ¡</summary>

![image](screenshots/2-add-message-task.png)

1. ç‚¹å‡»æ¸ é“è¾“å…¥æ¡†ä¼šå¼¹å‡ºæ‰€æœ‰æ¸ é“é€‰é¡¹
2. é€‰æ‹©ä¸€ä¸ªæ¸ é“ä¼šå‡ºç°æ¸ é“çš„æ˜ç»†ä¿¡æ¯ï¼Œå¹¶é€‰æ‹©ä¸€ç§æ¶ˆæ¯ç±»å‹ï¼Œè¿›è¡Œæš‚å­˜æˆä¸ºå®ä¾‹ï¼Œç‚¹å‡»ç¡®å®šæ‰ä¼šè¿›è¡Œæœ€ç»ˆçš„ä¿å­˜
3. æ·»åŠ ä»»åŠ¡çš„é¡µé¢å®é™…ä¸Šï¼Œä¼šåˆ†åˆ«æ·»åŠ ä»»åŠ¡ï¼Œä»¥åŠä»»åŠ¡å…³è”çš„æ¸ é“å®ä¾‹
4. å…³äºä»»åŠ¡ä¸å®ä¾‹çš„è¯´æ˜ï¼š

> ä¸€ä¸ªä»»åŠ¡å¯ä»¥å…³è”åˆ›å»ºå¤šä¸ªå®ä¾‹
>
>  é€‰æ‹©ä¸åŒçš„æ¸ é“ï¼Œå¡«å†™çš„å®ä¾‹ä¿¡æ¯ä¹Ÿä¸ä¸€æ ·
>
>  ä¸€ä¸ªä»»åŠ¡å¯ä»¥ç»‘å®šä¸€ä¸ªå®ä¾‹ï¼Œä¹Ÿå¯ä»¥ç»‘å®šå¤šä¸ªå®ä¾‹ï¼Œå¤šä¸ªå®ä¾‹æ„å‘³ç€ä¸€ä¸ªæ¶ˆæ¯å¯ä»¥æ¨é€ç»™å¤šä¸ªæ¶ˆæ¯æ¸ é“

5. å…³äºå®ä¾‹çš„æ¶ˆæ¯ç±»å‹è¯´æ˜ï¼š

> æ¶ˆæ¯çš„ç±»å‹å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºtextã€htmlã€markdownä¸‰ç§ç±»å‹ã€‚æ¯ç§æ¸ é“æ¶ˆæ¯ç°åœ¨æ”¯æŒçš„ç±»å‹æœ‰ä¸åŒçš„é™åˆ¶ã€‚
>
>  åœ¨å®é™…å‘é€çš„æ—¶å€™ï¼Œä¼šä¼˜å…ˆé€‰æ‹©å‘é€apiä¸­ä¼ è¿‡æ¥å¯¹åº”ç±»å‹çš„æ¶ˆæ¯ï¼Œå¦‚æœapiä¸­æ²¡æœ‰å¯¹åº”çš„ç±»å‹ï¼Œä¼šç›´æ¥å–apiä¸­textæ¶ˆæ¯ã€‚
>
>  apiä¸­textæ¶ˆæ¯åœ¨å‘é€çš„æ—¶å€™å¿…é¡»è¦ä¼ 

</details>

<details>
  <summary>3. æ¶ˆæ¯å‘é€</summary>

![image](screenshots/3-send-message.png)

å‚è€ƒå„ç§è¯­è¨€çš„æ¥å£è¿›è¡Œè°ƒç”¨

</details></details>

## è´¡çŒ® ğŸ¤

æ¬¢è¿é€šè¿‡æäº¤é—®é¢˜å’Œæå‡ºæ”¹è¿›å»ºè®®ã€‚

## è‡´è°¢ ğŸ™

è¯¥é¡¹ç›®æ±²å–äº†[go-gin-example](https://github.com/eddycjy/go-gin-example)é¡¹ç›®çš„çµæ„Ÿï¼Œå±•ç¤ºäº† Go å’Œ Gin åœ¨å®é™…åº”ç”¨ä¸­çš„å¼ºå¤§å’Œå¤šæ‰å¤šè‰ºã€‚

## Star History â­

[![Star History Chart](https://api.star-history.com/svg?repos=engigu/Message-Push-Nest&type=Date)](https://star-history.com/#engigu/Message-Push-Nest&Date)

## è®¸å¯è¯ ğŸ“

[LICENSE](LICENSE)

